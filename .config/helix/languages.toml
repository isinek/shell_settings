####################
#    Languages     #
####################

[[language]]
name = "css"
formatter = { command = 'prettier', args = ["--parser", "css"] }
language-servers = [
    "vscode-css-language-server",
    "tailwindcss-language-server"
]

[[language]]
name = "c-sharp"
language-servers = ["omnisharp"]

[[language]]
name = "go"
scope = "source.go"
injection-regex = "go"
file-types = ["go"]
roots = ["go.mod"]
auto-format = true
language-servers = ["gopls"]

[[language]]
name = "html"
formatter = { command = 'prettier', args = ["--parser", "html"] }
language-servers = [
    "vscode-html-language-server",
    "tailwindcss-language-server"
]

[[language]]
name = "javascript"
formatter = { command = 'prettier', args = ["--parser", "typescript"] }

[[language]]
name = "json"
formatter = { command = 'prettier', args = ["--parser", "json"] }
language-servers = ["vscode-json-language-server"]

[[language]]
name = "jsx"
formatter = { command = 'prettier', args = ["--parser", "typescript"] }
language-servers = [
    "typescript-language-server",
    "tailwindcss-language-server"
]

[[language]]
name = "markdown"
scope = "source.md"
injection-regex = "md|markdown"
file-types = [
    "md",
    "markdown",
    "mdx",
    "mkd",
    "mkdn",
    "mdwn",
    "mdown",
    "markdn",
    "mdtxt",
    "mdtext",
    "workbook",
    { glob = "PULLREQ_EDITMSG" }
]
roots = [".marksman.toml"]
formatter = { command = "dprint", args = ["fmt", "--stdin", "md"]}
language-servers = ["vscode-markdown-language-server"]
indent = { tab-width = 2, unit = "  " }
block-comment-tokens = { start = "<!--", end = "-->" }

[[language]]
name = "typescript"
formatter = { command = 'prettier', args = ["--parser", "typescript"] }
language-servers = [
    "typescript-language-server",
    "tailwindcss-language-server"
]

[[language]]
name = "tsx"
formatter = { command = 'prettier', args = ["--parser", "typescript"] }
language-servers = [
    "typescript-language-server",
    "tailwindcss-language-server"
]

[[language]]
name = "yaml"
scope = "source.yaml"
injection-regex = "yml|yaml"
file-types = ["yml", "yaml"]
formatter = { command = 'prettier', args = ["--parser", "yaml"] }
comment-token = "#"
indent = { tab-width = 2, unit = "  " }
language-servers = ["yaml-language-server"]

####################
# Language Servers #
####################

[language-server.gopls]
command = "gopls"

[language-server.gopls.config]
gofumpt = true
local = "goimports"
semanticTokens = true
staticcheck = true
verboseOutput = true
analyses = { "nilness" = true, "unusedparams" = true, "unusedwrite" = true, "useany" = true }
usePlaceholders = true
completeUnimported = true
hints = { "assignVariableType" = true, "compositeLiteralFields" = true, "compositeLiteralTypes" = true, "constantValues" = true, "functionTypeParameters" = true, "parameterNames" = true, "rangeVariableTypes" = true }

[language-server.omnisharp]
command = "OmniSharp"
args = [ "--languageserver" ]

[language-server.tailwindcss-language-server]
command = "tailwindcss-language-server"
args = [ "--stdio" ]

[language-server.typescript-language-server]
command = "typescript-language-server"
args = [ "--stdio" ]

[language-server.vscode-css-language-server]
command = "vscode-css-language-server"
args = [ "--stdio" ]

[language-server.vscode-html-language-server]
command = "vscode-html-language-server"
args = [ "--stdio" ]

[language-server.vscode-json-language-server]
command = "vscode-json-language-server"
args = [ "--stdio" ]

[language-server.vscode-markdown-language-server]
command = "vscode-markdown-language-server"
args = [ "--stdio" ]

[language-server.yaml-language-server]
command = "yaml-language-server"
args = [ "--stdio" ]
